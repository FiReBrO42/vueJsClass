import{_ as m,e as h,r as p,o as n,c as l,d as t,F as i,f as g,t as b,a as f,w as P,b as I,n as k}from"./index-c14b5a77.js";const{VITE_APP_URL:d,VITE_APP_PATH:c}={VITE_APP_URL:"https://vue3-course-api.hexschool.io",VITE_APP_PATH:"firebro42",BASE_URL:"/vueJsClass/week6/",MODE:"production",DEV:!1,PROD:!0},T={data(){return{products:[],form:{user:{name:"",email:"",tel:"",address:""},message:""},loadingItem:!1}},components:{RouterLink:h},methods:{getProducts(){this.$http.get(`${d}/v2/api/${c}/products/all`).then(e=>{this.$showLoading(),this.products=e.data.products}).catch(e=>{alert(e.response.data.message)})},addToCart(e){this.loadingItem=!0;const r={product_id:e,qty:1};this.$http.post(`${d}/v2/api/${c}/cart`,{data:r}).then(a=>{alert(a.data.message),this.loadingItem=!1}).catch(a=>{alert(a.response.data.message)})}},mounted(){this.getProducts()}},V=t("div",null,"產品列表",-1),C=t("hr",null,null,-1),E={class:"table align-middle"},$=["src"],v=["disabled","onClick"];function y(e,r,a,A,o,u){const _=p("router-link");return n(),l(i,null,[V,C,t("table",E,[t("tbody",null,[(n(!0),l(i,null,g(o.products,s=>(n(),l("tr",{class:"",key:s.id},[t("td",null,b(s.title),1),t("td",null,[t("img",{class:"img-fluid",src:s.imageUrl,width:"200",alt:""},null,8,$)]),t("td",null,[f(_,{to:`product/${s.id}`,class:"btn btn-outline-secondary"},{default:P(()=>[I("查看產品內容")]),_:2},1032,["to"]),t("button",{type:"button",class:k(["btn",{"btn-outline-primary":o.loadingItem,"btn-outline-danger":!o.loadingItem}]),disabled:o.loadingItem,onClick:w=>u.addToCart(s.id)}," 加入購物車 ",10,v)])]))),128))])])],64)}const L=m(T,[["render",y]]);export{L as default};
